{"version":3,"sources":["firebase.js","components/Post.js","components/Upload.js","components/Modal.js","App.js","index.js"],"names":["firebaseApp","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","db","firestore","auth","storage","useStyles","makeStyles","theme","root","display","margin","spacing","large","width","height","text","post","backgroundColor","flexDirection","border","maxWidth","post_header","alignItems","post_image","minWidth","minHeight","objectFit","borderTop","borderBottom","buttom","justifyContent","Post","imgUrl","username","caption","id","console","log","classes","className","Avatar","alt","src","IconButton","variant","component","button","color","onClick","collection","doc","delete","then","catch","error","aria-label","icon","padding","progress","marginLeft","input","upload","marginTop","uploadButton","image","imageWrap","Upload","useState","setCaption","setImage","setProgress","imagePreview","setImagePreview","handleUpload","uploadTask","ref","name","put","on","snapshot","Math","round","bytesTransferred","totalBytes","alert","message","child","getDownloadURL","url","add","timestamp","FieldValue","serverTimestamp","imageUrl","type","onChange","e","target","files","handlePreview","style","htmlFor","PhotoCamera","Input","placeholder","value","Button","disabled","LinearProgress","getModalStyle","top","left","transform","form","disaply","paper","position","palette","background","boxShadow","shadows","box","marginBottom","logbutton","marginRight","img","login","dispaly","SimpleModal","modalStyle","open","setOpen","openSignin","setOpenSignin","setUserame","email","setEmail","password","setPassword","user","setUser","useEffect","unsubscribe","onAuthStateChanged","authUser","body","onSubmit","preventDefault","FormControl","required","fullWidth","InputLabel","autoComplete","autoFocus","createUserWithEmailAndPassword","updateProfile","displayName","signinbody","signInWithEmailAndPassword","signOut","Modal","onClose","aria-labelledby","aria-describedby","App","posts","setPosts","setUsername","orderBy","onSnapshot","docs","map","data","Typography","align","gutterBottom","each","rootElement","document","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.728f0700.chunk.js","sourcesContent":["import firebase from \"@firebase/app\";\nimport \"@firebase/auth\";\nimport \"@firebase/storage\";\nimport \"@firebase/firestore\";\n\nconst config = {\n  apiKey: \"AIzaSyDGzTgPsG0FStItQ7ppelV3S-yB4m86cGI\",\n  authDomain: \"instagram-clone-app-ebf8a.firebaseapp.com\",\n  projectId: \"instagram-clone-app-ebf8a\",\n  storageBucket: \"instagram-clone-app-ebf8a.appspot.com\",\n  messagingSenderId: \"42253588690\",\n  appId: \"1:42253588690:web:d5c66cc81cf62c6012750b\"\n};\n\nconst firebaseApp = firebase.initializeApp(config);\n\nconst db = firebaseApp.firestore();\nconst auth = firebaseApp.auth();\nconst storage = firebaseApp.storage();\n\nexport { db, auth, storage };\n","/** @format */\n\nimport React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Avatar, IconButton } from '@material-ui/core';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport { db } from './../firebase';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n\n    '& > *': {\n      margin: theme.spacing(1),\n    },\n  },\n  large: {\n    width: theme.spacing(7),\n    height: theme.spacing(7),\n\n    margin: theme.spacing(2),\n  },\n  text: {\n    margin: theme.spacing(2),\n  },\n\n  post: {\n    backgroundColor: 'white',\n    display: 'flex',\n    flexDirection: 'column',\n    border: '0.5px solid lightgrey',\n    maxWidth: '500px',\n    margin: '20px auto',\n  },\n\n  post_header: {\n    display: 'flex',\n    alignItems: 'center',\n  },\n  post_image: {\n    width: '100%',\n    maxWidth: '500px',\n    minWidth: '500px',\n    minHeight: '500px',\n    objectFit: 'contain',\n    borderTop: '1px solid lightgrey',\n    borderBottom: '1px solid lightgrey',\n  },\n  buttom: {\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n  },\n}));\n\nfunction Post({ imgUrl, username, caption, id }) {\n  console.log(username, caption, id);\n  const classes = useStyles();\n\n  function handleDelete() {\n    db.collection('posts')\n      .doc(id)\n      .delete()\n      .then(() => {\n        console.log('Document successfully deleted!');\n      })\n      .catch((error) => {\n        console.error('Error removing document: ', error);\n      });\n  }\n  return (\n    <div className={classes.post}>\n      <div className={classes.post_header}>\n        <Avatar\n          alt='Remy Sharp'\n          src='https://images.unsplash.com/photo-1611367540679-d94566094025?ixid=MnwxMjA3fDB8MHxzZWFyY2h8NHx8d29tYW4lMjBmYWNlfGVufDB8MnwwfHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60'\n          className={classes.large}\n        />\n        <h3 className='post_userName'>{username}</h3>\n      </div>\n\n      <img\n        src={imgUrl}\n        alt='user avatar'\n        className={classes.post_image}\n      />\n      <div className={classes.buttom}>\n        <p className={classes.text}>\n          <strong>{username}:</strong> {caption}\n        </p>\n\n        <IconButton\n          variant='raised'\n          component='span'\n          className={classes.button}\n          color='secondary'\n          onClick={handleDelete}\n        >\n          <DeleteIcon\n            aria-label='delete'\n            className={classes.icon}\n          />\n        </IconButton>\n      </div>\n    </div>\n  );\n}\n\nexport default Post;\n","/** @format */\n\nimport React, { useState } from 'react';\nimport {\n  Input,\n  Button,\n  IconButton,\n  LinearProgress,\n} from '@material-ui/core';\nimport { PhotoCamera } from '@material-ui/icons';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport { storage, db } from './../firebase';\nimport firebase from '@firebase/app';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    border: '0.5px solid lightgrey',\n\n    padding: theme.spacing(3),\n    width: '450px',\n    display: 'flex',\n    flexDirection: 'column',\n    margin: '0 auto',\n    alignItems: 'center',\n  },\n  progress: {\n    width: 120,\n    marginLeft: theme.spacing(2),\n  },\n  input: {\n    width: '50%',\n  },\n  button: {\n    margin: theme.spacing(1),\n  },\n  upload: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginTop: theme.spacing(2),\n    justifyContent: 'space-between',\n  },\n  uploadButton: {\n    backgroundColor: '#f60257',\n    border: 'none',\n    color: 'white',\n    '&:hover': {\n      backgroundColor: '#f75d91',\n    },\n  },\n  image: {\n    height: '150px',\n    width: '150px',\n    objectFit: 'cover',\n  },\n  imageWrap: {\n    height: '150px',\n    width: '150px',\n    backgroundColor: '#afafaf',\n  },\n}));\n\nexport default function Upload({ username }) {\n  const classes = useStyles();\n\n  const [caption, setCaption] = useState('');\n  const [image, setImage] = useState('');\n  const [url, setUrl] = useState('');\n  const [progress, setProgress] = useState(0);\n  const [imagePreview, setImagePreview] = useState(null);\n\n  function handlePreview(image) {\n    storage.ref(`image_previews/${image.name}`).put(image);\n\n    storage\n      .ref('images')\n      .child(image.name)\n      .getDownloadURL()\n      .then((url) => setImagePreview(url));\n  }\n\n  const handleChange = (e) => {\n    if (e.target.files[0]) {\n      console.log('file:', e.target.files[0]);\n      setImage(e.target.files[0]);\n      handlePreview(e.target.files[0]);\n    }\n  };\n\n  function handleUpload() {\n    const uploadTask = storage\n      .ref(`images/${image.name}`)\n      .put(image);\n    console.log('image:', image);\n    console.log('image name:', image.name);\n    uploadTask.on(\n      'state_changed',\n      (snapshot) => {\n        //progress function\n        const progress = Math.round(\n          (snapshot.bytesTransferred /\n            snapshot.totalBytes) *\n            100\n        );\n        setProgress(progress);\n      },\n      (error) => {\n        //error function\n        console.log(error);\n        alert(error.message);\n      },\n      () => {\n        //complete function\n        storage\n          .ref('images')\n          .child(image.name)\n          .getDownloadURL()\n          .then((url) => {\n            //post image inside db\n            console.log('url:' + url);\n            db.collection('posts').add({\n              timestamp:\n                firebase.firestore.FieldValue.serverTimestamp(),\n              caption: caption,\n              imageUrl: url,\n              username: username,\n            });\n          });\n        setProgress(0);\n        setCaption('');\n        setImage(null);\n      }\n    );\n  }\n\n  return (\n    <>\n      <div className={classes.root}>\n        <div className={classes.imageWrap}>\n          <img\n            src={imagePreview}\n            alt=''\n            className={classes.image}\n          />\n        </div>\n        <input\n          type='file'\n          onChange={handleChange}\n          className={classes.input}\n          style={{ display: 'none' }}\n          id='raised-button-file'\n        />\n        <label htmlFor='raised-button-file'>\n          <span>Add an image here 👉</span>\n          <IconButton\n            variant='raised'\n            component='span'\n            className={classes.button}\n            color='secondary'\n          >\n            <PhotoCamera className={classes.icon} />\n          </IconButton>\n        </label>\n        <Input\n          type='text'\n          placeholder='enter a caption'\n          value={caption}\n          onChange={(e) => setCaption(e.target.value)}\n          className={classes.input}\n          color='secondary'\n        />\n        <div className={classes.upload}>\n          {image === null || image === '' ? (\n            <Button\n              variant='outlined'\n              onClick={handleUpload}\n              disabled\n            >\n              upload\n            </Button>\n          ) : (\n            <Button\n              variant='outlined'\n              onClick={handleUpload}\n              className={classes.uploadButton}\n            >\n              upload\n            </Button>\n          )}\n          <LinearProgress\n            variant='determinate'\n            color='secondary'\n            value={progress}\n            className={classes.progress}\n          />\n        </div>\n      </div>\n    </>\n  );\n}\n","/** @format */\n\nimport React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n  Modal,\n  Button,\n  Input,\n  FormControl,\n  InputLabel,\n} from '@material-ui/core';\nimport { auth } from './../firebase';\n\nfunction getModalStyle() {\n  const top = 50;\n  const left = 50;\n\n  return {\n    top: `${top}%`,\n    left: `${left}%`,\n    transform: `translate(-${top}%, -${left}%)`,\n  };\n}\n\nconst useStyles = makeStyles((theme) => ({\n  form: {\n    disaply: 'flex',\n    flexDirection: 'column',\n  },\n  paper: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    position: 'absolute',\n    width: 250,\n    backgroundColor: theme.palette.background.paper,\n    border: '2px solid #000',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  },\n  box: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'space-around',\n  },\n  button: {\n    marginBottom: 10,\n  },\n  logbutton: {\n    marginRight: 10,\n  },\n  img: {\n    maxWidth: 150,\n  },\n  login: {\n    dispaly: 'flex',\n  },\n}));\n\nexport default function SimpleModal() {\n  const classes = useStyles();\n  const [modalStyle] = useState(getModalStyle);\n  const [open, setOpen] = useState(false);\n\n  //modal open/close\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  //signup functionality\n  const [openSignin, setOpenSignin] = useState(false);\n  const [username, setUserame] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [user, setUser] = useState(null);\n\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged(\n      (authUser) => {\n        if (authUser) {\n          //user has loged in\n          console.log('user:', authUser);\n          setUser(authUser);\n        } else {\n          //user has loged out\n          setUser(null);\n        }\n      }\n    );\n\n    return () => {\n      //perform cleanup before refire useeffect\n      unsubscribe();\n    };\n  }, [user, username]);\n\n  const signup = (e) => {\n    auth\n      .createUserWithEmailAndPassword(email, password)\n      .then((authUser) => {\n        return authUser.user.updateProfile({\n          displayName: username,\n        });\n      })\n      .catch((error) => alert(error.message));\n  };\n\n  const signout = (e) => {\n    auth.signOut();\n  };\n\n  const signin = (e) => {\n    auth\n      .signInWithEmailAndPassword(email, password)\n      .catch((error) => alert(error.message));\n\n    setOpenSignin(false);\n  };\n\n  const demoSignin = (e) => {\n    auth\n      .signInWithEmailAndPassword(\n        'demosignup@gmail.com',\n        'abc123'\n      )\n      .catch((error) => alert(error.message));\n\n    setOpenSignin(false);\n  };\n\n  const body = (\n    <div style={modalStyle} className={classes.paper}>\n      <img\n        className={classes.img}\n        src='https://firebasestorage.googleapis.com/v0/b/instagram-clone-app-ebf8a.appspot.com/o/logo%2Fpupplogo.png?alt=media&token=f4a7d9d7-acd7-4f09-8280-3011e68458aa'\n        alt='instagram logo'\n      />\n      <form\n        className={classes.form}\n        onSubmit={(e) => e.preventDefault() && false}\n      >\n        <FormControl margin='normal' required fullWidth>\n          <InputLabel htmlFor='name'>Name</InputLabel>\n          <Input\n            id='name'\n            name='name'\n            autoComplete='off'\n            autoFocus\n            value={username}\n            onChange={(e) => setUserame(e.target.value)}\n          />\n        </FormControl>\n        <FormControl margin='normal' required fullWidth>\n          <InputLabel htmlFor='email'>\n            Email Address\n          </InputLabel>\n          <Input\n            id='email'\n            name='email'\n            autoComplete='off'\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n          />\n        </FormControl>\n        <FormControl margin='normal' required fullWidth>\n          <InputLabel htmlFor='password'>\n            Password\n          </InputLabel>\n          <Input\n            name='password'\n            type='password'\n            id='password'\n            autoComplete='off'\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n          />\n        </FormControl>\n        <div className={classes.box}>\n          <Button\n            className={classes.button}\n            variant='outlined'\n            color='secondary'\n            onClick={signup}\n          >\n            Sign up\n          </Button>\n          <Button\n            className={classes.button}\n            variant='outlined'\n            color='secondary'\n            onClick={() => setOpen(false)}\n          >\n            Close\n          </Button>\n        </div>\n      </form>\n    </div>\n  );\n\n  const signinbody = (\n    <div style={modalStyle} className={classes.paper}>\n      <img\n        className={classes.img}\n        src='https://firebasestorage.googleapis.com/v0/b/instagram-clone-app-ebf8a.appspot.com/o/logo%2Fpupplogo.png?alt=media&token=f4a7d9d7-acd7-4f09-8280-3011e68458aa'\n        alt='instagram logo'\n      />\n      <form\n        className={classes.form}\n        onSubmit={(e) => e.preventDefault() && false}\n      >\n        <FormControl margin='normal' required fullWidth>\n          <InputLabel htmlFor='email'>\n            Email Address\n          </InputLabel>\n          <Input\n            id='email'\n            name='email'\n            autoComplete='off'\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n          />\n        </FormControl>\n        <FormControl margin='normal' required fullWidth>\n          <InputLabel htmlFor='password'>\n            Password\n          </InputLabel>\n          <Input\n            name='password'\n            type='password'\n            id='password'\n            autoComplete='off'\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n          />\n        </FormControl>\n        <div className={classes.box}>\n          <Button\n            className={classes.button}\n            variant='contained'\n            color='secondary'\n            onClick={demoSignin}\n          >\n            Demo Sign in\n          </Button>\n          <Button\n            className={classes.button}\n            variant='outlined'\n            color='secondary'\n            onClick={signin}\n          >\n            Sign in\n          </Button>\n          <Button\n            className={classes.button}\n            variant='outlined'\n            color='secondary'\n            onClick={() => setOpenSignin(false)}\n          >\n            Close\n          </Button>\n        </div>\n      </form>\n    </div>\n  );\n\n  return (\n    <div>\n      {user ? (\n        <Button\n          variant='contained'\n          color='secondary'\n          onClick={signout}\n        >\n          Sign out\n        </Button>\n      ) : (\n        <div className={classes.login}>\n          <Button\n            className={classes.logbutton}\n            variant='contained'\n            color='secondary'\n            onClick={() => setOpenSignin(true)}\n          >\n            Log in\n          </Button>\n          <Button\n            variant='contained'\n            color='secondary'\n            onClick={handleOpen}\n          >\n            Sign Up\n          </Button>\n        </div>\n      )}\n      <Modal\n        open={open}\n        onClose={() => setOpen(false)}\n        aria-labelledby='simple-modal-title'\n        aria-describedby='simple-modal-description'\n      >\n        {body}\n      </Modal>\n      <Modal\n        open={openSignin}\n        onClose={() => setOpenSignin(false)}\n        aria-labelledby='simple-modal-title'\n        aria-describedby='simple-modal-description'\n      >\n        {signinbody}\n      </Modal>\n    </div>\n  );\n}\n","/** @format */\n\nimport './styles.css';\nimport React, { useState, useEffect } from 'react';\nimport Post from './components/Post';\nimport { db, auth } from './firebase';\nimport { Typography } from '@material-ui/core';\nimport Upload from './components/Upload';\nimport Modal from './components/Modal';\n\nexport default function App() {\n  const [posts, setPosts] = useState([]);\n  const [username, setUsername] = useState('');\n  const [user, setUser] = useState(null);\n\n  useEffect(() => {\n    db.collection('posts')\n      .orderBy('timestamp', 'desc')\n      .onSnapshot((snapshot) => {\n        setPosts(\n          snapshot.docs.map((doc) => ({\n            id: doc.id,\n            post: doc.data(),\n          }))\n        );\n        console.log('posts:', posts);\n      });\n\n    const unsubscribe = auth.onAuthStateChanged(\n      (authUser) => {\n        if (authUser) {\n          //user has loged in\n          console.log('user:', authUser);\n          setUser(authUser);\n          setUsername(user.displayName);\n        } else {\n          //user has loged out\n          setUser(null);\n          setUsername('');\n        }\n      }\n    );\n\n    return () => {\n      //perform cleanup before refire useeffect\n      unsubscribe();\n    };\n  }, [user, username]);\n\n  return (\n    <div className='App'>\n      <div className='app_header'>\n        <img\n          className='app_headerImage'\n          src='https://firebasestorage.googleapis.com/v0/b/instagram-clone-app-ebf8a.appspot.com/o/logo%2Fpupplogo.png?alt=media&token=f4a7d9d7-acd7-4f09-8280-3011e68458aa'\n          alt='instagram logo'\n        />\n        <div className='app_login'>\n          <Modal />\n        </div>\n      </div>\n      <div className='app_body'>\n        <Typography\n          color='secondary'\n          variant='h4'\n          align='center'\n          gutterBottom\n        >\n          Welcome to PuppyGram{' '}\n          <strong className='app_username'>\n            {username}\n          </strong>\n        </Typography>\n        {username ? (\n          <Upload username={username} />\n        ) : (\n          <div className='app_loginRequest'>\n            <Typography\n              color='secondary'\n              variant='p'\n              component='p'\n              align='center'\n              gutterBottom\n            >\n              Please to log in to upload your puppy images\n              🐶 🐾\n            </Typography>\n          </div>\n        )}\n\n        {posts.map((each) => (\n          <Post\n            key={each.id}\n            id={each.id}\n            imgUrl={each.post.imageUrl}\n            username={each.post.username}\n            caption={each.post.caption}\n          />\n        ))}\n      </div>\n    </div>\n  );\n}\n","/** @format */\n\nimport { StrictMode } from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nconst rootElement = document.getElementById('root');\nReactDOM.render(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n  rootElement\n);\n"],"sourceRoot":""}